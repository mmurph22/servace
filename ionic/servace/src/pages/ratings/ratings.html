<!--
  Generated template for the RatingsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-row header align-items-start align-items-stretch>
      <ion-col col-12 col-md-6 offset-md-3>
        <img logo src="assets/imgs/ace_table_pan.png" />
      </ion-col>
    </ion-row>
    <ion-navbar>
      <ion-title>Rate Volunteers</ion-title>
    </ion-navbar>
 </ion-header>

<ion-content padding>
    <form padding [formGroup]="formg">
      <ion-card>
        <ion-card-header>
            <ion-label no-margin text-center><div class="servace-menu">Volunteers at {{eventname}}</div></ion-label>
        </ion-card-header>

        <ion-card-content>
          <div class="table-hover">
          <ion-list inset>
            <ion-row>
              <ion-col col-1 text-wrap>
                <thead>First Name</thead>
              </ion-col>             
              <ion-col col-2 text-wrap>
                <thead>Last Name</thead>
              </ion-col>
              <ion-col col-2 text-wrap>
                <thead>% Time</thead>
              </ion-col>
              <ion-col col-7 text-wrap float-center>
                <thead>Rating</thead>
              </ion-col>
            </ion-row>

            <div formArrayName="items">
              <ion-list *ngFor="let event of events; let i = index">
                <div [formGroupName]="i" ><ion-row>
                  <ion-col col-1 text-wrap>
                    <ion-label ><td>{{ event.firstname }}</td></ion-label>
                  </ion-col>
                  <ion-col col-2 text-wrap>
                    <ion-label ><td>{{ event.lastname }}</td></ion-label>
                  </ion-col>
                  <ion-col col-2 text-wrap>
                    <ion-label ><td>{{ event.volperc }}%</td></ion-label>
                  </ion-col>
                  <ion-col col-6 text-wrap>
                    <ion-item for="i" >
                      <!--<ion-badge item-end>{{formg.controls.rating.value}}</ion-badge>-->  
                      <ion-range (ionChange)="updateRatingData(i)" formControlName="rating" [ngModel]="event.rating" min="0" max="5" step="1" pin="true" snaps="true">
                        <ion-label range-left>Not Set</ion-label>
                        <ion-label range-right>5</ion-label>
                      </ion-range>
                      <ion-badge item-end>{{event.rating}}</ion-badge> 
                      <output class="range_output"></output> 
                    </ion-item>
                  </ion-col>
                  <ion-col col-1 text-wrap>
                      <button ion-button text-center block fixed (click)="onRateSingle(i)">Rate</button>
                  </ion-col>
                </ion-row></div>
              </ion-list>
            </div>

          </ion-list>
          <ion-item>
            <!--<button ion-button text-center block (click)="onRate()">Send Ratings</button>-->
            <!--<button ion-button text-center block (click)="initializeFields()">Reset</button>-->
          </ion-item> 
          </div>
        </ion-card-content>
      </ion-card>
    </form>
  </ion-content>
